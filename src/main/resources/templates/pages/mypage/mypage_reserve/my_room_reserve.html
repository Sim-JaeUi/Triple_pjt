<!DOCTYPE html>
<html lang="ko"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRIPLE | 마이페이지 내예약</title>
    <script src="./js/reserve.js"></script>
    <link rel="stylesheet" href="/app/css/my_reserve_main.css">
    <link rel="stylesheet" href="/app/css/style.css">
</head>
<body>
<!--헤더-->
<div th:replace="fragement/mypageHeader:: mypageHeader"></div>
<!--헤더끝-->

    <!--메인-->
    <main class="container_all">
        <div class="mypage_title">MY PAGE | 내 예약</div>
        <div class="rm_main" >
        <div th:if="${lodgingR.getIdx().equals(roomReservation.getRoomId())}" th:each="lodgingR : ${lodgingRoom}">
            <div th:if="${lod.getIdx().equals(lodgingR.getCompanyId())}" th:each="lod : ${lodging}">
            <div class="rm_main_box">

                <span th:text="${lod.getName()}">서귀포 마가렛펜션(리뉴얼, 엔틱의상대여)</span><br>
<!--                Seoguipo Margaret Pension [Newly built in 2016]  -->
            </div>
            <div class="rm_main_box"><img th:src="@{${lodgingR.getUploadPath()}}"></div>
            <div class="rm_main_box_div">
                <div class="rm_main_box_left">
                    <div class="rm_main_box_left_div">
                        <div id="rm_main_left_box_tit">국가</div>
                        <div id="rm_main_left_box_cont" th:text="${lod.getCountry()}">제주특별자치도 서귀포시 예래로 68번길 11-16</div>
                    </div>
                    <div class="rm_main_box_left_div">
                        <div id="rm_main_left_box_tit">도시</div>
                        <div id="rm_main_left_box_cont" th:text="${lod.getCity()}">+050350584861</div>
                    </div>
                    <div class="rm_main_box_left_div">
                        <div id="rm_main_left_box_tit">주소</div>
                        <div id="rm_main_left_box_cont" th:text="${lod.getAddress()}">http://www.margaret-pension.com
                        </div>
                    </div>
<!--                    <div class="rm_main_box_left_div">-->
<!--                        <div id="rm_main_left_box_tit">이메일</div>-->
<!--                        <div id="rm_main_left_box_cont" th:text="${lodging.email}">iljoo1079@hanmail.net </div>-->
<!--                    </div>-->
                    <div class="rm_main_box_left_div"><a href="https://www.google.co.kr/maps/place/%EC%A0%9C%EC%A3%BC%ED%8A%B9%EB%B3%84%EC%9E%90%EC%B9%98%EB%8F%84+%EC%84%9C%EA%B7%80%ED%8F%AC%EC%8B%9C+%EC%98%88%EB%9E%98%EB%A1%9C68%EB%B2%88%EA%B8%B8+11-8/data=!3m1!4b1!4m5!3m4!1s0x350c5ad94d813781:0xd6e37b6e261c2ee6!8m2!3d33.2555451!4d126.3978574?hl=ko" target="_blank">길찾기</a>
                    </div>
                </div>
                <div class="rm_main_box_right">
                    <div class="rm_main_box_right_div">
                        <div id="rm_main_box_right_date"><span>체크인</span><br><span th:text="${roomReservation.getStartDate()+' '+lod.getCheckIn()}">2.22(화) 15:00</span></div>
<!--                        <div id="rm_main_box_right_day">• •  1박  • •</div>-->
                        <div id="rm_main_box_right_date"><span>체크아웃</span><br><span th:text="${roomReservation.getEndDate()+' '+lod.getCheckOut()}">2.23(수) 11:00</span> </div>
                    </div>
                </div>
            </div>
            <div class="rm_main_box rm_main_box_info">
                <div class="rm_main_box_title">예약정보 <span style="color: #425052; padding-left: 10px; font-size: 16px;"> | 예약번호</span></div>
                <div class="rm_info">
                    <div class="rm_info_content">트리플 예약번호</div>
                    <div class="rm_info_content" th:text="${roomReservation.getIdx()}">614293</div>
                </div>
                <div class="rm_info">
                    <div class="rm_info_content">공급사 예약번호</div>
                    <div class="rm_info_content" th:text="${lodgingR.getIdx()}">2201241060764420</div>
                </div>
                <div class="rm_info">
                    <div class="rm_info_content">예약일</div>
                    <div class="rm_info_content" th:text="${#temporals.format(roomReservation.getRegDate(), 'yyyy-MM-dd')}">2022-08-10</div>
                </div>
            </div>
            <div class="rm_main_box rm_main_box_info">
                <div class="rm_main_box_title">객실정보 <span style="color: #425052; padding-left: 10px; font-size: 16px;" th:text="' | '+${lodgingR.getName()}"> | 스탠다드A 302호</span></div>
                <div class="rm_info">
                    <div class="rm_info_content">투숙인원</div>
                    <div class="rm_info_content" >2명</div>
                </div>
                <div class="rm_info">
                    <div class="rm_info_content">요금 기준인원</div>
                    <div class="rm_info_content" th:text="${lodgingR.getRoomCapacity()}">성인 2인</div>
                </div>
            </div>
            <div class="rm_main_box rm_main_box_info">
                <div class="rm_main_box_title">예약자/투숙자 정보</div>
                <div class="rm_info">
                    <div class="rm_info_content">한글명</div>
                    <div class="rm_info_content" th:text="${roomReservation.getLastName()+roomReservation.getFirstName()}">김사과</div>
                </div>
                <div class="rm_info">
                    <div class="rm_info_content">전화번호</div>
                    <div class="rm_info_content" th:text="${user.getHp()}">010-1234-5678</div>
                </div>
                <div class="rm_info">
                    <div class="rm_info_content">이메일</div>
                    <div class="rm_info_content" th:text="${user.getEmail()}">apple@apple.com</div>
                </div>
                <div class="rm_info">
                    <div class="rm_info_content">투숙자명</div>
                    <div class="rm_info_content" th:text="${roomReservation.getLastName()+roomReservation.getFirstName()}">김사과</div>
                </div>
            </div>
            <div class="rm_main_box rm_main_box_info">
                <div class="rm_main_box_title">교통편 정보</div>
                <div class="rm_info">
                    <div class="rm_info_content">숙소 이동 방법</div>
                    <div class="rm_info_content">자가용 이동</div>
                </div>
            </div>
            <div class="rm_main_box rm_main_box_info">
                <div class="rm_main_box_price_title">결제 정보</div>
                <div class="rm_info">
                    <div class="rm_info_content">예약 금액(세금 포함)</div>
                    <div class="rm_info_content" th:text="${#numbers.formatInteger(roomReservation.getTotalPrice(), 1, 'COMMA')}+'원'">75,000원</div>
                </div>
<!--                <div class="rm_info" th:if="${coupon1.getUseStatus().toString().equals('USABLE')}" th:each="coupon1 : ${coupon}">-->
<!--                    <div class="rm_info_content">쿠폰 할인 금액</div>-->
<!--                    <div class="rm_info_content" th:if="${coupon1.getType().toString().equals('LODGING')}"><span th:text="'-'+${#numbers.formatInteger(coupon1.price, 1, 'COMMA')}+'원'"></span></div>-->
<!--                </div>-->
                <div class="rm_info">
                    <div class="rm_info_content">예약일</div>
                    <div class="rm_info_content" th:text="${#temporals.format(roomReservation.getRegDate(), 'yyyy-MM-dd')}">2022-08-10</div>
                </div>
            </div>
            <div class="rm_main_box rm_main_box_info">
                <div class="rm_info">
                    <div class="rm_main_box_price_title">총 결제금액</div>
<!--                    <div th:if="${coupon1.getUseStatus().toString().equals('USABLE')}" th:each="coupon1 : ${coupon}">-->
                    <div class="rm_info_content" th:text="${#numbers.formatInteger(roomReservation.getTotalPrice(), 1, 'COMMA')}+'원'">67,500원</div>
<!--                    </div>-->
                </div>
                <div class="rm_info_content" th:text="'결제일시 : '+${#temporals.format(roomReservation.getRegDate(), 'yyyy-MM-dd hh:mm')}">결제일시 : 2022-08-10 10:57</div>
            </div>
                <form id="form" method="post" th:action="@{/api/roomReservation/delete}">
                    <input type="hidden" name="name" th:value="${roomReservation.getLastName()+roomReservation.getFirstName()}">
                    <input type="hidden" name="email" th:value="${user.getEmail()}">
                    <input type="hidden" name="idx" th:value="${roomReservation.getIdx()}">
                    <div id="cancel_btn_box"><input type="submit" th:value="${roomReservation.getLastName()+roomReservation.getFirstName()}+'님의 숙소예약 취소'"></div>
                </form>
            </div>
        </div>
        </div>
    </main>
    <!--메인 끝-->

<!--푸터-->
<div th:replace="fragement/mypageFooter :: mypageFooter"></div>
<!--푸터 끝-->
</body>
</html>
